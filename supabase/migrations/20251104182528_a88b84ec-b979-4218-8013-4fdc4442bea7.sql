-- Create table to persist PKCE verifier by OAuth state\nCREATE TABLE IF NOT EXISTS public.canva_oauth_states (\n  state TEXT PRIMARY KEY,\n  user_id UUID NOT NULL,\n  code_verifier TEXT NOT NULL,\n  created_at TIMESTAMPTZ NOT NULL DEFAULT now()\n);\n\n-- Enable RLS (service role bypasses it; no public policies)\nALTER TABLE public.canva_oauth_states ENABLE ROW LEVEL SECURITY;\n\n-- Optional index by created_at for cleanup jobs\nCREATE INDEX IF NOT EXISTS idx_canva_oauth_states_created_at ON public.canva_oauth_states(created_at);